{"ast":null,"code":"var _jsxFileName = \"/Users/ritessshhh/WebstormProjects/princeton-hackathon/src/Pages/DiaryArea2.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { Toast } from 'primereact/toast';\nimport { FileUpload } from 'primereact/fileupload';\nimport { ProgressBar } from 'primereact/progressbar';\nimport { Button } from 'primereact/button';\nimport { Tooltip } from 'primereact/tooltip';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DiaryArea({\n  setMode,\n  playList,\n  setPlaylist\n}) {\n  _s();\n  const toast = useRef(null);\n  const fileUploadRef = useRef(null);\n  const [totalSize, setTotalSize] = useState(0);\n  const [audioUrl, setAudioUrl] = useState('');\n  const updateTotalSize = files => {\n    const newSize = files.reduce((sum, file) => sum + (file.size || 0), totalSize);\n    setTotalSize(newSize);\n  };\n  const onTemplateSelect = e => {\n    updateTotalSize(e.files);\n  };\n  const onTemplateUpload = event => {\n    try {\n      const response = JSON.parse(event.xhr.responseText);\n      const audioUrl = response.audio_url;\n      setAudioUrl(audioUrl);\n      toast.current.show({\n        severity: 'info',\n        summary: 'File Uploaded',\n        detail: 'Audio is ready to be played.'\n      });\n    } catch (error) {\n      toast.current.show({\n        severity: 'error',\n        summary: 'Error',\n        detail: 'Failed to parse server response.'\n      });\n    }\n  };\n  const onTemplateRemove = file => {\n    setTotalSize(prevTotalSize => prevTotalSize - file.size);\n  };\n  const onTemplateClear = () => {\n    setTotalSize(0);\n    setAudioUrl('');\n  };\n  const headerTemplate = options => {\n    const value = totalSize / 1000000 * 100; // Assuming the total size is in bytes\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [options.chooseButton, options.uploadButton, options.cancelButton, /*#__PURE__*/_jsxDEV(ProgressBar, {\n        value: value,\n        showValue: false,\n        style: {\n          width: '10rem',\n          height: '12px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [totalSize, \" / 1 MB\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  };\n  const audioPlayer = audioUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"audio-player\",\n    children: /*#__PURE__*/_jsxDEV(\"audio\", {\n      controls: true,\n      src: audioUrl,\n      children: \"Your browser does not support the audio element.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this) : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Toast, {\n      ref: toast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n      ref: fileUploadRef,\n      name: \"diaryFiles\",\n      url: \"http://127.0.0.1:5000/heal\",\n      multiple: true,\n      accept: \"text/*\",\n      maxFileSize: 1000000,\n      onSelect: onTemplateSelect,\n      onUpload: onTemplateUpload,\n      onError: onTemplateClear,\n      onClear: onTemplateClear,\n      onRemove: onTemplateRemove,\n      headerTemplate: headerTemplate,\n      chooseOptions: {\n        label: 'Select Files',\n        icon: 'pi pi-plus'\n      },\n      uploadOptions: {\n        label: 'Upload',\n        icon: 'pi pi-upload'\n      },\n      cancelOptions: {\n        label: 'Cancel',\n        icon: 'pi pi-times'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), audioPlayer]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n_s(DiaryArea, \"+/t70HZFJyqUYnpMBSBj6MUiFEU=\");\n_c = DiaryArea;\nvar _c;\n$RefreshReg$(_c, \"DiaryArea\");","map":{"version":3,"names":["React","useRef","useState","Toast","FileUpload","ProgressBar","Button","Tooltip","jsxDEV","_jsxDEV","DiaryArea","setMode","playList","setPlaylist","_s","toast","fileUploadRef","totalSize","setTotalSize","audioUrl","setAudioUrl","updateTotalSize","files","newSize","reduce","sum","file","size","onTemplateSelect","e","onTemplateUpload","event","response","JSON","parse","xhr","responseText","audio_url","current","show","severity","summary","detail","error","onTemplateRemove","prevTotalSize","onTemplateClear","headerTemplate","options","value","Fragment","children","chooseButton","uploadButton","cancelButton","showValue","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","audioPlayer","className","controls","src","ref","name","url","multiple","accept","maxFileSize","onSelect","onUpload","onError","onClear","onRemove","chooseOptions","label","icon","uploadOptions","cancelOptions","_c","$RefreshReg$"],"sources":["/Users/ritessshhh/WebstormProjects/princeton-hackathon/src/Pages/DiaryArea2.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { Toast } from 'primereact/toast';\nimport { FileUpload } from 'primereact/fileupload';\nimport { ProgressBar } from 'primereact/progressbar';\nimport { Button } from 'primereact/button';\nimport { Tooltip } from 'primereact/tooltip';\n\nexport default function DiaryArea({ setMode, playList, setPlaylist }) {\n    const toast = useRef(null);\n    const fileUploadRef = useRef(null);\n    const [totalSize, setTotalSize] = useState(0);\n    const [audioUrl, setAudioUrl] = useState('');\n\n    const updateTotalSize = (files) => {\n        const newSize = files.reduce((sum, file) => sum + (file.size || 0), totalSize);\n        setTotalSize(newSize);\n    };\n\n    const onTemplateSelect = (e) => {\n        updateTotalSize(e.files);\n    };\n\n    const onTemplateUpload = (event) => {\n        try {\n            const response = JSON.parse(event.xhr.responseText);\n            const audioUrl = response.audio_url;\n            setAudioUrl(audioUrl);\n            toast.current.show({ severity: 'info', summary: 'File Uploaded', detail: 'Audio is ready to be played.' });\n        } catch (error) {\n            toast.current.show({ severity: 'error', summary: 'Error', detail: 'Failed to parse server response.' });\n        }\n    };\n\n    const onTemplateRemove = (file) => {\n        setTotalSize(prevTotalSize => prevTotalSize - file.size);\n    };\n\n    const onTemplateClear = () => {\n        setTotalSize(0);\n        setAudioUrl('');\n    };\n\n    const headerTemplate = (options) => {\n        const value = totalSize / 1000000 * 100; // Assuming the total size is in bytes\n        return (\n            <React.Fragment>\n                {options.chooseButton}\n                {options.uploadButton}\n                {options.cancelButton}\n                <ProgressBar value={value} showValue={false} style={{ width: '10rem', height: '12px' }}></ProgressBar>\n                <span>{totalSize} / 1 MB</span>\n            </React.Fragment>\n        );\n    };\n\n    const audioPlayer = audioUrl ? (\n        <div className=\"audio-player\">\n            <audio controls src={audioUrl}>\n                Your browser does not support the audio element.\n            </audio>\n        </div>\n    ) : null;\n\n    return (\n        <div>\n            <Toast ref={toast} />\n            <FileUpload ref={fileUploadRef}\n                        name=\"diaryFiles\"\n                        url=\"http://127.0.0.1:5000/heal\"\n                        multiple\n                        accept=\"text/*\"\n                        maxFileSize={1000000}\n                        onSelect={onTemplateSelect}\n                        onUpload={onTemplateUpload}\n                        onError={onTemplateClear}\n                        onClear={onTemplateClear}\n                        onRemove={onTemplateRemove}\n                        headerTemplate={headerTemplate}\n                        chooseOptions={{ label: 'Select Files', icon: 'pi pi-plus' }}\n                        uploadOptions={{ label: 'Upload', icon: 'pi pi-upload' }}\n                        cancelOptions={{ label: 'Cancel', icon: 'pi pi-times' }} />\n            {audioPlayer}\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}